<button
	(click)="onGameTypeClick()"
	class="w-[32vh] md:w-96 sm:max-md:w-[60vh] landscape:md:w-[30vw] lg:w-[360px] aspect-square relative flex justify-center items-center bg-my-glass backdrop-blur-md rounded-3xl hover:scale-105 transition-all ease-in-out duration-500 cursor-pointer">
	<p class="font-bold text-font-primary text-5xl md:text-6xl lg:text-7xl 2xl:text-8xl uppercase">
		{{ text() }}
	</p>
</button>

@if (shouldShowInstructions()) {
	<div class="w-full h-full fixed top-0 left-0 flex justify-center items-center backdrop-blur-lg z-10">
		<div
			class="w-full md:w-4/5 lg:w-3/5 xl:w-2/5 h-fit max-h-[90vh] bg-my-glass backdrop-blur-md flex flex-col justify-start items-center rounded-3xl text-white overflow-y-auto px-6 md:px-10 lg:px-12 py-8 md:py-10 lg:py-12 gap-6 md:gap-8 relative">
			<button
				(click)="closeInstructions()"
				class="absolute top-4 right-4 w-8 h-8 flex justify-center items-center rounded-full hover:bg-white/20 transition-all ease-in-out duration-200 cursor-pointer"
				aria-label="Close instructions">
				<mat-icon class="text-font-primary">close</mat-icon>
			</button>

			<h2 class="text-2xl md:text-3xl lg:text-4xl font-bold text-font-primary text-center mt-2">How to Play</h2>

			@if (gameType() === GameType.MULTIPLAYER) {
				<div class="w-full flex flex-col gap-4 md:gap-6">
					<div class="flex flex-col gap-3">
						<h3 class="text-lg md:text-xl lg:text-2xl font-semibold text-font-authSubtitle">The Challenge</h3>
						<p class="text-sm md:text-base lg:text-lg text-font-primary leading-relaxed">
							Players try to discover the Key Word (always just 1 word) common to the words or phrases appearing during game play. For example,
							<span class="font-semibold text-font-authSubtitle">BELL</span>, <span class="font-semibold text-font-authSubtitle">TRAP</span>, and
							<span class="font-semibold text-font-authSubtitle">PRIZE</span> all share the word
							<span class="font-bold text-font-authSubtitle">DOOR</span> (doorbell, trap door, and door prize).
						</p>
					</div>

					<div class="flex flex-col gap-3">
						<h3 class="text-lg md:text-xl lg:text-2xl font-semibold text-font-authSubtitle">Gameplay</h3>
						<p class="text-sm md:text-base lg:text-lg text-font-primary leading-relaxed">
							Each round begins with two prompts (e.g., BELL and TRAP). If no one enters the Key Word within 20 seconds, a third prompt appears
							(e.g., PRIZE) and you have 15 seconds to solve it. Still not successful? A fourth prompt appears for 10 seconds (e.g.,
							<span class="font-semibold text-font-authSubtitle">KNOB</span>), and finally, as a final clue, a fifth prompt (e.g.,
							<span class="font-semibold text-font-authSubtitle">SCREEN</span>) allows 5 more seconds for a last-ditch win. The quicker the
							solution, the higher the points.
						</p>
						<p class="text-sm md:text-base lg:text-lg text-font-primary leading-relaxed">
							Each game consists of <span class="font-semibold text-font-authSubtitle">ten rounds</span>.
						</p>
					</div>
				</div>
			} @else {
				<div class="w-full flex flex-col gap-4 md:gap-6">
					<div class="flex flex-col gap-3">
						<h3 class="text-lg md:text-xl lg:text-2xl font-semibold text-font-authSubtitle">The Challenge</h3>
						<p class="text-sm md:text-base lg:text-lg text-font-primary leading-relaxed">
							The challenge is to reveal the Key Word (always just 1 word) common to the words or phrases that appear in game play. For example,
							<span class="font-semibold text-font-authSubtitle">BELL</span>, <span class="font-semibold text-font-authSubtitle">TRAP</span>, and
							<span class="font-semibold text-font-authSubtitle">PRIZE</span> all share the word
							<span class="font-bold text-font-authSubtitle">DOOR</span> (doorbell, trap door, and door prize).
						</p>
					</div>

					<div class="flex flex-col gap-3">
						<h3 class="text-lg md:text-xl lg:text-2xl font-semibold text-font-authSubtitle">Gameplay</h3>
						<p class="text-sm md:text-base lg:text-lg text-font-primary leading-relaxed">
							Each round begins with two prompts (e.g., BELL and TRAP). If the Key Word is not entered within 20 seconds, a third prompt appears
							(e.g., PRIZE) and you have 15 seconds to solve it. Still not successful? A fourth prompt appears for 10 seconds, and finally, as a
							last clue, a fifth prompt allows 5 more seconds for a last-ditch solution. The quicker the solution, the higher the points.
						</p>
						<p class="text-sm md:text-base lg:text-lg text-font-primary leading-relaxed">
							Each game consists of <span class="font-semibold text-font-authSubtitle">ten rounds</span>.
						</p>
					</div>
				</div>
			}

			<div class="w-full flex flex-col justify-center items-center gap-4 pt-2">
				<label class="flex items-center gap-2 cursor-pointer">
					<input
						type="checkbox"
						[checked]="doNotShowAgain()"
						(change)="doNotShowAgain.set($any($event.target).checked)"
						class="w-4 h-4 rounded border-gray-300 text-font-authSubtitle focus:ring-2 focus:ring-font-authSubtitle cursor-pointer" />
					<span class="text-sm md:text-base text-font-primary">Do not show this again</span>
				</label>
				<app-button text="Ready to play?" (whenClickedOutput)="readyToPlay()" />
			</div>
		</div>
	</div>
}
