@if (pageState() === PageState.LOADED) {
	<div class="h-full w-full">
		@if (roomState(); as state) {
			@switch (state.gameState) {
				@case ('START_COUNTDOWN') {
					<app-game-start [waitingCountdownTime]="state.waitingCountdownTime" />
				}
				@case ('ROUND_END') {
					<app-round-result
						[score]="getPlayerScore(state.score)"
						[winner]="state.winner"
						[word]="state.word"
						[waitingCountdownTime]="state.waitingCountdownTime"
						[gameType]="GameType.MULTIPLAYER" />
				}
				@case ('GAME_END') {
					<app-game-end [totalScore]="state.totalScore" [shouldShowRestartGameButton]="isPlayerGameOwner()" (playNewGameClicked)="startNewGame()" [gameType]="GameType.MULTIPLAYER" />
				}
				@case ('GAME_STARTED') {
					<div class="w-full h-1/3 md:h-full flex flex-col pt-4 gap-10 relative">
						<div class="w-full md:h-1/6 flex justify-between items-center px-2 md:px-6">
							<app-round [round]="state.round" [totalRound]="state.totalRound" />
							<app-countdown [time]="state.time" />
						</div>
						<div class="w-full h-full md:h-4/6 grid grid-cols-6 grid-rows-2 gap-2 content-center">
							@for (cue of getVisibleWords(state.word); track cue.id; let index = $index) {
								<div class="w-full h-auto flex justify-center items-center col-span-2" [ngClass]="{ 'col-start-2': index === 3 }">
									<app-word-bubble [cue]="cue" [key]="state.word.key" />
								</div>
							}
						</div>
						<div class="w-full h-auto md:h-1/6 flex justify-center items-center relative gap-2 md:gap-4">
							<fa-icon
								[icon]="icons.faTimesCircle"
								class="text-2xl md:w-10 md:h-10 text-my-burgundy cursor-pointer flex justify-center items-center"
								matTooltip="Leave game"
								(click)="exitGame()" />
							<span class="w-[85%] md:w-[50%] mr-2 md:mr-6">
								<app-text-field [control]="multiplayerPlayFormGroup.controls.guess" placeholder="Type your guess here..." [autoFocus]="true" />
							</span>
							<fa-icon [icon]="icons.faPaperPlane" class="text-my-orange cursor-pointer text-xl" (click)="submitGuess()" />
						</div>
					</div>
				}
			}
		}
	</div>
} @else if (pageState() === PageState.LOADING) {
	<div class="h-full w-full flex justify-center items-center relative">
		<app-loading />
	</div>
} @else if (pageState() === PageState.ERROR && error) {
	<app-error-while-loading [subTitle]="error" />
}
